<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>UsefulSite.ga</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script>
			var load = function(){
				$.ajax({
					url: 'https://www.reddit.com/r/EarthPorn.json',
					dataType: 'json',
					success: function(data){
						var post = null;
						for(var i = 0; i < 3; i++){
							while(post == null || post.data.title.match(/earth ?porn/i) || post.data.title.match(/poll/i)){
								post = data.data.children[Math.floor(Math.random() * data.data.children.length)];
								if((post.data.preview.images[0].source.width > 1919) && (post.data.preview.images[0].source.height > 1079) && (post.data.score > 5000)){
									break
								}
							}
						}
						if(post.data.preview.images[0] && post.data.preview.images[0].source && (post.data.preview.images[0].source.width > 1919) && (post.data.preview.images[0].source.height > 1079)){
							$('body').css('background-image', 'url(' + post.data.preview.images[0].source.url + ')');
							}else{
							$('body').css('background-image', 'url(default.jpg)')
						}
						$('body').css('background-size', 'auto, 100vh')
						$('body').css('background-repeat', 'no-repeat')
					}
				});
			};
			load();
		</script>
		<style>
			html, body {
			text-align: center;
			font-family: sans-serif;
			}
			#footer {
			position: absolute;
			bottom: 0px;
			margin: 0 auto;
			left: 60%;
			}
			#linkdiv {
			width: 24vw;
			height: 49vh;
			margin: 1vw;
			display: inline-block;
			background-color: rgba(70, 72, 76, 0.4);
			}
			p {
			color: white;
			font-size: 150%;
			}
			h1 {
			-webkit-text-stroke: 2px white;
			font-size: 250%;
			}
			@media only screen and (max-width: 480px) {
			h1 {
			font-size: 500%;
			}
			p {
			font-size: 200%;
			-webkit-text-stroke: 2px white;
			}
			#linkdiv {
			width: 49vw;
			height: 49vh;
			margin: 1vw;
			display: inline-block;
			background-color: rgba(70, 72, 76, 0.4);
			}
			}
			p:hover {
				color: black;
			}
			a {
				color: gray;
			}
		</style>
	</head>
	<body>
		<div id="linkdiv"><h1>Test</h1></div>
		<div id="linkdiv"><h1>Test1</h1></div>
		<div id="linkdiv"><h1>Test2</h1></div>
		<div id="footer"><p>Isn't this site useful? Certainly more useful than <a href="http://www.maxwellh.com">maxwellh.com</a>.<br>Run by Colin Lewis<br>You can see my main site <a href="http://colin.gq">here.</a></p></div>
	</body>
</html>

